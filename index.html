<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=//gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.54.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>Another one bytes the Rust!</title><link type=text/css rel=stylesheet href=https://danielhenrymantilla.github.io/css/prev-next_buttons.css><link type=text/css rel=stylesheet href=https://danielhenrymantilla.github.io/css/inline_svgs.css><link type=text/css rel=stylesheet href=https://danielhenrymantilla.github.io/css/print.css media=print><link type=text/css rel=stylesheet href=https://danielhenrymantilla.github.io/css/poole.css><link type=text/css rel=stylesheet href=https://danielhenrymantilla.github.io/css/syntax.css><link type=text/css rel=stylesheet href=https://danielhenrymantilla.github.io/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png><link href=https://danielhenrymantilla.github.io/index.xml rel=alternate type=application/rss+xml title="Another one bytes the Rust!"></head><body class="theme-base-08 layout-reverse"><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://danielhenrymantilla.github.io/><h1>Another one bytes the Rust!</h1></a><p class=lead>Thoughts and ramblings for the like-minded</p></div><nav><ul class=sidebar-nav><li><a href=https://danielhenrymantilla.github.io/>Home</a></li><li><a href=/series>Blog Post Series</a></li><li><a href=/categories>Categories</a></li><li><a href=/tags>Tags</a></li></ul></nav><p>&copy; 2019. All rights reserved.</p></div></aside><main class="content container"><div class=posts><article class=post><h1 class=post-title><a href=https://danielhenrymantilla.github.io/posts/2019-03-03-mutation-part-3-interior-mutability/>Mutation - part 3: Interior Mutability</a></h1><time style=margin-bottom:0 datetime=2019-03-03T23:28:36&#43;0100 class=post-date>Sun, Mar 3, 2019</time><table style=margin-bottom:.5em;border:none;font-size:.7rem></tr></tr></table>Interior Mutability &amp;UnsafeCell&lt;_&gt; and &ldquo;Interior Mutability&rdquo; From the previous post, we have the following safe tranformation
&amp;UnsafeCell&lt;T&gt; -&gt; *mut T
So, UnsafeCell&lt;_&gt; wraps data and provides a handle to its interior, with which we can mutate the wrapped data; in other words, the interior of the wrapper is mutable.
Safe abstractions built on top of UnsafeCell !Sync Sync T RefCell&lt;T&gt; RwLock&lt;T&gt; / Mutex&lt;T&gt; integer Cell&lt;usize&gt; / Cell&lt;isize&gt; AtomicUsize / AtomicIsize T : Copy Cell&lt;T&gt; NO pointer Cell&lt;*mut T&gt; AtomicPtr TBD</article><article class=post><h1 class=post-title><a href=https://danielhenrymantilla.github.io/posts/2019-02-24-mutation-part-2-to-mut-or-not-to-mut/>Mutation - part 2: To mut or not to mut</a></h1><time style=margin-bottom:0 datetime=2019-02-24T16:45:15&#43;0100 class=post-date>Sun, Feb 24, 2019</time><table style=margin-bottom:.5em;border:none;font-size:.7rem><tr style=border:none><td style="padding-left:0;border:none;background:0 0">Categories</td><td style="border:none;background:0 0;width:100%"><a href=/categories/teaching/>Teaching</a>,
<a href=/categories/rust/>Rust</a>,
<a href=/categories/programming/>Programming</a></td></tr></tr><tr style="border:none;background:0 0"><td style="padding-left:0;border:none;background:0 0">Tags</td><td style="border:none;background:0 0;width:100%"><a href=/tags/rust/>rust</a>
<a href=/tags/c/>C</a>
<a href=/tags/mutation/>mutation</a>
<a href=/tags/variable/>variable</a>
<a href=/tags/meta-programming/>meta programming</a>
<a href=/tags/globals/>globals</a></td></tr></tr></table>Prelude From the previous post: A (runtime) variable is a (static) binding to some place in memory, and is used to read/write from/into that place in memory
Let&rsquo;s illustrate it again with an example.
The following code fn foo(){letx=42;lety=i32::wrapping_add(x,27)asu8;}
unsugars to1: fn foo(){// allocate 4 bytes in the stack frame &amp; bind at_x to its address letx: i32;// type inferred // allocate 1 byte in the stack frame &amp; bind at_y to its address lety: u8;// type inferred *at_x=42;*at_y=i32::wrapping_add(*at_x,27)asu8;}<div class=read-more-link><a href=/posts/2019-02-24-mutation-part-2-to-mut-or-not-to-mut/>Read More…</a></div></article><article class=post><h1 class=post-title><a href=https://danielhenrymantilla.github.io/posts/2019-02-19-mutation-part-1-variables/>Mutation - Part 1: Variables</a></h1><time style=margin-bottom:0 datetime=2019-02-17T15:07:48&#43;0100 class=post-date>Sun, Feb 17, 2019</time><table style=margin-bottom:.5em;border:none;font-size:.7rem><tr style=border:none><td style="padding-left:0;border:none;background:0 0">Categories</td><td style="border:none;background:0 0;width:100%"><a href=/categories/teaching/>Teaching</a>,
<a href=/categories/rust/>Rust</a>,
<a href=/categories/programming/>Programming</a></td></tr></tr><tr style="border:none;background:0 0"><td style="padding-left:0;border:none;background:0 0">Tags</td><td style="border:none;background:0 0;width:100%"><a href=/tags/rust/>rust</a>
<a href=/tags/c-examples/>C examples</a>
<a href=/tags/mutation/>mutation</a>
<a href=/tags/variable/>variable</a>
<a href=/tags/meta-programming/>meta programming</a></td></tr></tr></table>What is a variable? Ok, here there is really a lot that could be said, and a simple blog post will not cover it. I will just talk about two important and distinct thinking patterns involved:
the idea of binding a name to a value;
the idea of reading/writing values from/into memory;
1. Identity binding The best example in Rust for &ldquo;just a binding&rdquo; (i.e., with no backing memory) is const<div class=read-more-link><a href=/posts/2019-02-19-mutation-part-1-variables/>Read More…</a></div></article><article class=post><h1 class=post-title><a href=https://danielhenrymantilla.github.io/posts/2019-02-19-mutation-part-0-intro/>Mutation - Part 0: Intro</a></h1><time style=margin-bottom:0 datetime=2019-02-17T15:07:47&#43;0100 class=post-date>Sun, Feb 17, 2019</time><table style=margin-bottom:.5em;border:none;font-size:.7rem><tr style=border:none><td style="padding-left:0;border:none;background:0 0">Categories</td><td style="border:none;background:0 0;width:100%"><a href=/categories/teaching/>Teaching</a>,
<a href=/categories/rust/>Rust</a>,
<a href=/categories/programming/>Programming</a></td></tr></tr><tr style="border:none;background:0 0"><td style="padding-left:0;border:none;background:0 0">Tags</td><td style="border:none;background:0 0;width:100%"><a href=/tags/rust/>rust</a>
<a href=/tags/c-examples/>C examples</a>
<a href=/tags/mutation/>mutation</a>
<a href=/tags/variable/>variable</a>
<a href=/tags/meta-programming/>meta programming</a></td></tr></tr></table>For a first programming post, I have chosen an innocent-looking topic, regarding Rust&rsquo;s mut keyword:
What does mut truly mean? what does it do? For starters, let&rsquo;s quote TRPL1:
Mutability, the ability to change something
Hum, it looks like they got it the other way around. Let&rsquo;s fix it:
Mutability, the ability to change something
Mutability, the property of being change-able
Note the change in the grammatical aspect: if a mutator modifies a mutatee, the mutability required for it to be possible is the mutatee&rsquo;s one (and not the mutator&rsquo;s).<div class=read-more-link><a href=/posts/2019-02-19-mutation-part-0-intro/>Read More…</a></div></article><article class=post><h1 class=post-title><a href=https://danielhenrymantilla.github.io/posts/2019-02-16-my-first-post/>My first post ... and blog</a></h1><time style=margin-bottom:0 datetime=2019-02-16T15:07:47&#43;0100 class=post-date>Sat, Feb 16, 2019</time><table style=margin-bottom:.5em;border:none;font-size:.7rem><tr style=border:none><td style="padding-left:0;border:none;background:0 0">Categories</td><td style="border:none;background:0 0;width:100%"><a href=/categories/meta/>Meta</a>,
<a href=/categories/introspection/>Introspection</a></td></tr></tr><tr style="border:none;background:0 0"><td style="padding-left:0;border:none;background:0 0">Tags</td><td style="border:none;background:0 0;width:100%"><a href=/tags/meta/>meta</a></td></tr></tr></table>git commit? It has been a while since I wanted to make the jump and dive into the publishing my thoughts and experiments to the World Wide Web experience.
However, the most likely outcome is that I be its only reader. But I&rsquo;d be content with that.
Still, I do believe that some of my tinkering and experimentation could be of interest for other like-minded people. I (would?) like to think it is the main reason of my going public.<div class=read-more-link><a href=/posts/2019-02-16-my-first-post/>Read More…</a></div></article></div></main></body></html>